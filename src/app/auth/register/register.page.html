  <ion-content class="register-content">
    <div class="register-container">
      <h1>Registro</h1>
      <p class="subtitle">Crea tu cuenta para comenzar</p>

      <form [formGroup]="form" (ngSubmit)="onRegister()">
        <shared-input [control]="emailControl" placeholder="Email" type="email"></shared-input>
        <shared-input [control]="passwordControl" placeholder="Contraseña" type="password"></shared-input>
        <shared-input [control]="nameControl" placeholder="Nombre"></shared-input>
        <shared-input [control]="lastNameControl" placeholder="Apellido"></shared-input>
        <shared-input [control]="countryControl" placeholder="País"></shared-input>
        <shared-input [control]="cityControl" placeholder="Ciudad"></shared-input>
<shared-input
  [control]="birthDateControl"
  placeholder="Fecha de nacimiento"
  type="date"
></shared-input>


        <div class="gender-select-wrapper">
          <ion-select formControlName="gender" placeholder="Género">
            <ion-select-option value="female">Femenino</ion-select-option>
            <ion-select-option value="male">Masculino</ion-select-option>
            <ion-select-option value="other">Otro</ion-select-option>
          </ion-select>
        </div>

        <div class="checkbox-wrapper">
          <ion-checkbox formControlName="showGenderProfile"></ion-checkbox>
          <label class="checkbox-label">Mostrar género en perfil</label>
        </div>

        <div class="passion-wrapper">
          <label class="section-label">Pasiones</label>
          <passion-selector
            [passions]="availablePassions"
            [selected]="form.value.passions"
            (toggle)="togglePassion($event)"
          ></passion-selector>
        </div>

        <ion-button expand="full" class="select-image-button" (click)="selectImageMobile()">
          Seleccionar imagen (Android)
        </ion-button>

        <div class="file-upload-wrapper">
          <ion-button expand="full" class="file-upload-button" (click)="fileInput.click()">
            Seleccionar archivo
          </ion-button>
          <input
            type="file"
            accept="image/*"
            #fileInput
            (change)="onFileSelected($event)"
            hidden
          />
        </div>

        <div class="image-preview-wrapper" *ngIf="selectedImage">
          <ion-thumbnail>
            <img [src]="selectedImage" />
          </ion-thumbnail>
          <p class="image-label">Imagen seleccionada</p>
        </div>

        <ion-text color="danger" *ngIf="errorMessage">
          <p class="error-message">{{ errorMessage }}</p>
        </ion-text>

        <shared-button
          label="Registrarse"
          [disabled]="form.invalid || loading"
          type="submit"
          class="ion-margin-top"
          (action)="onRegister()"
        ></shared-button>

        <ion-spinner *ngIf="loading" name="dots" class="ion-margin-top"></ion-spinner>
      </form>

      <ion-button
        expand="block"
        fill="outline"
        color="medium"
        routerLink="/login"
        class="ion-margin-top register-link"
      >
        ¿Ya tienes cuenta? Inicia sesión
      </ion-button>
    </div>
  </ion-content>
